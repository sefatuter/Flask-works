{% extends 'base.html' %} {% block content %} {% for message in
get_flashed_messages() %}

<div class="alert alert-success alert-dismissible fade show" role="alert">
  {{ message }}
  <button
    type="button"
    class="btn-close"
    data-bs-dismiss="alert"
    aria-label="Close"
  ></button>
</div>

{% endfor %}

<h2>Dashboard</h2>

<br />
<div class="card">
  <div class="card-header"><strong>Name:</strong> {{ current_user.name }}</div>
  <div class="card-body">
    <h5 class="card-title">Welcome To Your User Dashboard</h5>
    <p class="card-text">
      <strong>Id: </strong>{{ current_user.id }}<br />
      <strong>Username: </strong>{{ current_user.username }}<br />
      <strong>Email: </strong>{{ current_user.email }}<br />
      <strong>Favorite Color: </strong>{{ current_user.favorite_color }}<br />
      <strong>Date Joined: </strong>{{ current_user.date_added }}<br />
    </p>
    <a href="{{ url_for('logout') }}" class="btn btn-outline-primary btn-sm"
      >Log out</a
    >
    <a href="{{ url_for('update', id=current_user.id) }}" class="btn btn-outline-warning btn-sm"
      >Update</a
    >
    <a href="{{ url_for('delete', id=current_user.id) }}" class="btn btn-outline-danger btn-sm" >Delete</a>

  </div>
  <div class="card-footer"><p>You are logged in..</p></div>
</div>

<br />

<br /><br /><br />

<div class="card">
  <div class="card-header">Update Profile</div>
  <div class="card-body">
      <form method="POST" action="/dashboard">
          {{ form.hidden_tag() }}

          {{ form.name.label(class="form-label") }}

          {{ form.name(class="form-control", value=name_to_update.name) }}
          <br/>

          {{ form.username.label(class="form-label") }}

          {{ form.username(class="form-control", value=name_to_update.username) }}
          
          <br/>

          {{ form.email.label(class="form-label") }}

          {{ form.email(class="form-control", value=name_to_update.email) }}
          
          <br/>

          {{ form.favorite_color.label(class="form-label") }}

          {{ form.favorite_color(class="form-control", value=name_to_update.favorite_color) }}
          
          <br>
          {{ form.submit(
              class="btn btn-secondary btn-sm") }}
      </form>
</div>
</div>

{% endblock content %}
